_format_version: "2.1"
services:
  - name: monolito
    url: http://monolito:5001
    routes:
      - name: root
        paths:
          - /
        strip_path: false
      - name: assets
        paths:
          - /assets
          - /assets/
        strip_path: false
      - name: risks
        paths:
          - /risks
          - /risks/
        strip_path: false
      - name: static
        paths:
          - /static
          - /static/
        strip_path: false
      - name: reports
        paths:
          - /reports
        strip_path: false
      - name: reports_view
        paths:
          - /reports/view
          - /reports/view/
        strip_path: false
      - name: reports_download
        paths:
          - /reports/download
          - /reports/download/
        strip_path: false
      - name: reports_download_proxy
        paths:
          - /reports/download/proxy
          - /reports/download/proxy/
        strip_path: false

  # Servicio logical para balancear entre microservicio-reportes-1 y -2
  - name: microservicio-reportes
    url: http://microservicio-reportes-1:8000
    routes:
      - name: report_generate
        paths:
          - /report/generate
          - /report/generate/
        strip_path: false
      - name: report
        paths:
          - /report
          - /report/
        strip_path: false

  # Segunda instancia (balanceo manual)
  - name: microservicio-reportes-2
    url: http://microservicio-reportes-2:8000
    routes:
      - name: report_generate_2
        paths:
          - /report/generate-2
          - /report/generate-2/
        strip_path: false
      - name: report_2
        paths:
          - /report-2
          - /report-2/
        strip_path: false



